/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Directive, ElementRef, HostListener, Input } from '@angular/core';
export class RippleDirective {
    /**
     * @param {?=} el
     */
    constructor(el) {
        this.el = el;
        this.ngFyRipple = undefined;
        if (document.getElementById("ngFyRippleStyles") == null) {
            /** @type {?} */
            var style = document.createElement('style');
            style.id = "ngFyRippleStyles";
            style.type = 'text/css';
            /** @type {?} */
            var keyFrames = `
      *[ngfyripple],
      *[ng-reflect-ng-fy-ripple] {
        cursor: pointer;
        position: relative;
        overflow: hidden;
      }
      *[ngfyripple] *,
      *[ng-reflect-ng-fy-ripple] * {
        pointer-events: none;
      }
      *[ng-reflect-ng-fy-ripple] .ripple-div,
      *[ngfyripple] .ripple-div {
        position: absolute;
        pointer-events: none;
        border-radius: 50%;
        background-color: rgba(0, 0, 0, 0.14);
        z-index: 10;
        animation: ngFyRipple 0.65s ease-out forwards;
      }

      *[ng-reflect-ng-fy-ripple] .ripple-div.ripple-remove,
      *[ngfyripple] .ripple-div.ripple-remove {
        animation: ngFyRippleRemove 0.3s ease-in forwards;
      }
      
      @keyframes ngFyRipple {
        0% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(0.05);
        }
        100% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
      }

      @keyframes ngFyRippleRemove {
        0% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
        100% {
          opacity: 0;
          transform: translate(-50%, -50%) scale(1);
        }
      }
      `;
            style.innerHTML = keyFrames.replace(/A_DYNAMIC_VALUE/g, "180deg");
            document.getElementsByTagName('head')[0].appendChild(style);
        }
    }
    /**
     * @return {?}
     */
    ngOnInit() {
    }
    /**
     * @param {?} event
     * @return {?}
     */
    mousedown(event) {
        if (this.ngFyRipple || (this.ngFyRipple != undefined && this.ngFyRipple.toString() == "")) {
            /** @type {?} */
            let child = document.createElement('div');
            /** @type {?} */
            let weight = this.el.nativeElement.offsetHeight > this.el.nativeElement.offsetWidth ? this.el.nativeElement.offsetHeight : this.el.nativeElement.offsetWidth;
            /** @type {?} */
            let style = [
                "height:" + (weight * 2.4) + "px",
                "width:" + (weight * 2.4) + "px",
                "left:" + event.offsetX + "px",
                "top:" + event.offsetY + "px",
            ];
            child.style.cssText = style.join(";");
            child.classList.add('ripple-div');
            this.el.nativeElement.appendChild(child);
            setTimeout((/**
             * @return {?}
             */
            () => {
                child.classList.add("ripple-complated");
            }), 550);
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    mouseup(event) {
        for (let i = 0; i < this.el.nativeElement.children.length; i++) {
            /** @type {?} */
            let element = this.el.nativeElement.children[i];
            if (element.className.search("ripple-div") != -1 && element.className.search("ripple-remove") == -1) {
                if (element.className.search("ripple-complated") != -1) {
                    element.classList.add("ripple-remove");
                    setTimeout((/**
                     * @return {?}
                     */
                    () => {
                        element.parentNode.removeChild(element);
                    }), 350);
                }
                else {
                    /** @type {?} */
                    let checkInter = setInterval((/**
                     * @return {?}
                     */
                    () => {
                        if (element.className.search("ripple-complated") != -1) {
                            element.classList.add("ripple-remove");
                            setTimeout((/**
                             * @return {?}
                             */
                            () => {
                                if (element != null && element.parentNode != null) {
                                    element.parentNode.removeChild(element);
                                }
                            }), 350);
                            clearInterval(checkInter);
                        }
                    }), 50);
                }
            }
        }
    }
}
RippleDirective.decorators = [
    { type: Directive, args: [{
                selector: '[ngFyRipple]'
            },] }
];
/** @nocollapse */
RippleDirective.ctorParameters = () => [
    { type: ElementRef }
];
RippleDirective.propDecorators = {
    ngFyRipple: [{ type: Input }],
    mousedown: [{ type: HostListener, args: ['mousedown', ['$event'],] }],
    mouseup: [{ type: HostListener, args: ['mouseup', ['$event'],] }]
};
if (false) {
    /** @type {?} */
    RippleDirective.prototype.ngFyRipple;
    /**
     * @type {?}
     * @private
     */
    RippleDirective.prototype.el;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmlwcGxlLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL25nLWZ5LXJpcHBsZS8iLCJzb3VyY2VzIjpbImxpYi9kaXJlY3RpdmVzL3JpcHBsZS5kaXJlY3RpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBVSxLQUFLLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFNbkYsTUFBTSxPQUFPLGVBQWU7Ozs7SUFJMUIsWUFDVSxFQUFlO1FBQWYsT0FBRSxHQUFGLEVBQUUsQ0FBYTtRQUhoQixlQUFVLEdBQVcsU0FBUyxDQUFDO1FBS3RDLElBQUksUUFBUSxDQUFDLGNBQWMsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLElBQUksRUFBRTs7Z0JBQ25ELEtBQUssR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQztZQUMzQyxLQUFLLENBQUMsRUFBRSxHQUFHLGtCQUFrQixDQUFDO1lBQzlCLEtBQUssQ0FBQyxJQUFJLEdBQUcsVUFBVSxDQUFDOztnQkFDcEIsU0FBUyxHQUFHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQStDZjtZQUNELEtBQUssQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNsRSxRQUFRLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzdEO0lBQ0gsQ0FBQzs7OztJQUVELFFBQVE7SUFFUixDQUFDOzs7OztJQUVzQyxTQUFTLENBQUMsS0FBSztRQUNwRCxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxJQUFJLFNBQVMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFOztn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Z0JBQ1QsUUFBUSxFQUFFLGNBQWM7YUFDekI7Ozs7WUFMbUIsVUFBVTs7O3lCQVEzQixLQUFLO3dCQWtFTCxZQUFZLFNBQUMsV0FBVyxFQUFFLENBQUMsUUFBUSxDQUFDO3NCQW1CcEMsWUFBWSxTQUFDLFNBQVMsRUFBRSxDQUFDLFFBQVEsQ0FBQzs7OztJQXJGbkMscUNBQXdDOzs7OztJQUd0Qyw2QkFBdUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEhvc3RMaXN0ZW5lciwgT25Jbml0LCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyB0eXBlV2l0aFBhcmFtZXRlcnMgfSBmcm9tICdAYW5ndWxhci9jb21waWxlci9zcmMvcmVuZGVyMy91dGlsJztcclxuXHJcbkBEaXJlY3RpdmUoe1xyXG4gIHNlbGVjdG9yOiAnW25nRnlSaXBwbGVdJ1xyXG59KVxyXG5leHBvcnQgY2xhc3MgUmlwcGxlRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0IHtcclxuXHJcbiAgQElucHV0KCkgbmdGeVJpcHBsZTpib29sZWFuID0gdW5kZWZpbmVkO1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHByaXZhdGUgZWw/OiBFbGVtZW50UmVmXHJcbiAgKSB7ICAgIFxyXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmdGeVJpcHBsZVN0eWxlc1wiKSA9PSBudWxsKSB7XHJcbiAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICAgIHN0eWxlLmlkID0gXCJuZ0Z5UmlwcGxlU3R5bGVzXCI7XHJcbiAgICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xyXG4gICAgICB2YXIga2V5RnJhbWVzID0gYFxyXG4gICAgICAqW25nZnlyaXBwbGVdLFxyXG4gICAgICAqW25nLXJlZmxlY3QtbmctZnktcmlwcGxlXSB7XHJcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICB9XHJcbiAgICAgICpbbmdmeXJpcHBsZV0gKixcclxuICAgICAgKltuZy1yZWZsZWN0LW5nLWZ5LXJpcHBsZV0gKiB7XHJcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XHJcbiAgICAgIH1cclxuICAgICAgKltuZy1yZWZsZWN0LW5nLWZ5LXJpcHBsZV0gLnJpcHBsZS1kaXYsXHJcbiAgICAgICpbbmdmeXJpcHBsZV0gLnJpcHBsZS1kaXYge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcclxuICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjE0KTtcclxuICAgICAgICB6LWluZGV4OiAxMDtcclxuICAgICAgICBhbmltYXRpb246IG5nRnlSaXBwbGUgMC42NXMgZWFzZS1vdXQgZm9yd2FyZHM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICpbbmctcmVmbGVjdC1uZy1meS1yaXBwbGVdIC5yaXBwbGUtZGl2LnJpcHBsZS1yZW1vdmUsXHJcbiAgICAgICpbbmdmeXJpcHBsZV0gLnJpcHBsZS1kaXYucmlwcGxlLXJlbW92ZSB7XHJcbiAgICAgICAgYW5pbWF0aW9uOiBuZ0Z5UmlwcGxlUmVtb3ZlIDAuM3MgZWFzZS1pbiBmb3J3YXJkcztcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgQGtleWZyYW1lcyBuZ0Z5UmlwcGxlIHtcclxuICAgICAgICAwJSB7XHJcbiAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMC4wNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgQGtleWZyYW1lcyBuZ0Z5UmlwcGxlUmVtb3ZlIHtcclxuICAgICAgICAwJSB7XHJcbiAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgc2NhbGUoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDEwMCUge1xyXG4gICAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHNjYWxlKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBgO1xyXG4gICAgICBzdHlsZS5pbm5lckhUTUwgPSBrZXlGcmFtZXMucmVwbGFjZSgvQV9EWU5BTUlDX1ZBTFVFL2csIFwiMTgwZGVnXCIpO1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHN0eWxlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG5cclxuICB9XHJcblxyXG4gIEBIb3N0TGlzdGVuZXIoJ21vdXNlZG93bicsIFsnJGV2ZW50J10pIG1vdXNlZG93bihldmVudCkgeyAgICBcclxuICAgIGlmICh0aGlzLm5nRnlSaXBwbGUgfHwgKHRoaXMubmdGeVJpcHBsZSAhPSB1bmRlZmluZWQgJiYgdGhpcy5uZ0Z5UmlwcGxlLnRvU3RyaW5nKCkgPT0gXCJcIikpIHtcclxuICAgICAgbGV0IGNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcbiAgICAgIHdlaWdodCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQgPiB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGggPyB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0IDogdGhpcy5lbC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoLFxyXG4gICAgICBzdHlsZSA9IFtcclxuICAgICAgICBcImhlaWdodDpcIiArICh3ZWlnaHQgKiAyLjQpICsgXCJweFwiLFxyXG4gICAgICAgIFwid2lkdGg6XCIgKyAod2VpZ2h0ICogMi40KSArIFwicHhcIixcclxuICAgICAgICBcImxlZnQ6XCIgKyBldmVudC5vZmZzZXRYICsgXCJweFwiLFxyXG4gICAgICAgIFwidG9wOlwiICsgZXZlbnQub2Zmc2V0WSArIFwicHhcIixcclxuICAgICAgXTtcclxuICAgICAgY2hpbGQuc3R5bGUuY3NzVGV4dCA9IHN0eWxlLmpvaW4oXCI7XCIpO1xyXG4gICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCdyaXBwbGUtZGl2Jyk7XHJcbiAgICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoXCJyaXBwbGUtY29tcGxhdGVkXCIpO1xyXG4gICAgICB9LCA1NTApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgQEhvc3RMaXN0ZW5lcignbW91c2V1cCcsIFsnJGV2ZW50J10pIG1vdXNldXAoZXZlbnQpIHsgXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWwubmF0aXZlRWxlbWVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5jaGlsZHJlbltpXTtcclxuICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lLnNlYXJjaChcInJpcHBsZS1kaXZcIikgIT0gLTEgJiYgZWxlbWVudC5jbGFzc05hbWUuc2VhcmNoKFwicmlwcGxlLXJlbW92ZVwiKSA9PSAtMSkge1xyXG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTmFtZS5zZWFyY2goXCJyaXBwbGUtY29tcGxhdGVkXCIpICE9IC0xKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJyaXBwbGUtcmVtb3ZlXCIpO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcclxuICAgICAgICAgIH0sIDM1MCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICBsZXQgY2hlY2tJbnRlciA9IHNldEludGVydmFsKCgpPT57XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNsYXNzTmFtZS5zZWFyY2goXCJyaXBwbGUtY29tcGxhdGVkXCIpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicmlwcGxlLXJlbW92ZVwiKTtcclxuICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ICE9IG51bGwgJiYgZWxlbWVudC5wYXJlbnROb2RlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sIDM1MCk7XHJcbiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0ludGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSw1MCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufSJdfQ==